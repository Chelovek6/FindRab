@model IEnumerable<FindRab.ViewModels.VacancyViewModel>

@{
    ViewData["Title"] = "Vacancies";
}

<h1>Vacancies</h1>

<div class="vacancy-list">
    @foreach (var item in Model)
    {
        <div class="vacancy-card">
            <h2>@Html.DisplayFor(modelItem => item.Title)</h2>
            <p><strong>Description:</strong> @Html.DisplayFor(modelItem => item.Description)</p>
            <p><strong>Education:</strong> @Html.DisplayFor(modelItem => item.Education)</p>
            <p><strong>Salary:</strong> @Html.DisplayFor(modelItem => item.Salary)</p>
            <p><strong>Phone:</strong> @Html.DisplayFor(modelItem => item.Phone)</p>
            <p><strong>Email:</strong> @Html.DisplayFor(modelItem => item.Email)</p>
            <a asp-action="Details" asp-route-id="@item.VacancyId" class="btn btn-info">Details</a>
        </div>
    }
</div>

<div class="pagination">
    @for (int i = 1; i <= ViewBag.TotalPages; i++)
    {
        <a href="@Url.Action("UserRed", new { page = i })" class="btn @(i == ViewBag.CurrentPage ? "btn-primary" : "btn-secondary")">@i</a>
    }
</div>

<div>
    @{
        var userRole = User.Claims.FirstOrDefault(c => c.Type == ClaimTypes.Role)?.Value;
        var returnUrl = userRole == "1" ? Url.Action("Index", "AdminView") : Url.Action("Index", "Menu");
    }

    <a href="@returnUrl" class="btn btn-secondary">Return to Home</a>
</div>

<link href="~/css/source.css" rel="stylesheet" />
